<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">

<html lang='en'>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" >
<title>memory.memory - ICE 0.1 API documentation</title>
<link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body><div id="top">
<div id="header">
<a id="main-heading" href="index.html">ICE 0.1 API documentation</a>
</div>
</div>

<div id="navigation">
<div class="navblock">
<div id="toctop">
<ul><li><a href="../index.html">Documentation home</a></li>
</ul>
</div>
</div>
<div class="navblock">
<ul><li><a href="index.html">Main page</a></li>
<li><a href="color.html">color</a></li>
<li><a href="component.collidablecomponent.html">component.collidablecomponent</a></li>
<li><a href="component.collisionresponsesystem.html">component.collisionresponsesystem</a></li>
<li><a href="component.collisionsystem.html">component.collisionsystem</a></li>
<li><a href="component.controllercomponent.html">component.controllercomponent</a></li>
<li><a href="component.controllersystem.html">component.controllersystem</a></li>
<li><a href="component.deathtimeoutcomponent.html">component.deathtimeoutcomponent</a></li>
<li><a href="component.dumbscriptcomponent.html">component.dumbscriptcomponent</a></li>
<li><a href="component.enginecomponent.html">component.enginecomponent</a></li>
<li><a href="component.enginesystem.html">component.enginesystem</a></li>
<li><a href="component.entitysystem.html">component.entitysystem</a></li>
<li><a href="component.exceptions.html">component.exceptions</a></li>
<li><a href="component.healthcomponent.html">component.healthcomponent</a></li>
<li><a href="component.healthsystem.html">component.healthsystem</a></li>
<li><a href="component.movementconstraintcomponent.html">component.movementconstraintcomponent</a></li>
<li><a href="component.movementconstraintsystem.html">component.movementconstraintsystem</a></li>
<li><a href="component.ondeathcomponent.html">component.ondeathcomponent</a></li>
<li><a href="component.ondeathsystem.html">component.ondeathsystem</a></li>
<li><a href="component.ownercomponent.html">component.ownercomponent</a></li>
<li><a href="component.physicscomponent.html">component.physicscomponent</a></li>
<li><a href="component.physicssystem.html">component.physicssystem</a></li>
<li><a href="component.playercomponent.html">component.playercomponent</a></li>
<li><a href="component.spatialsystem.html">component.spatialsystem</a></li>
<li><a href="component.spawnercomponent.html">component.spawnercomponent</a></li>
<li><a href="component.spawnersystem.html">component.spawnersystem</a></li>
<li><a href="component.statisticscomponent.html">component.statisticscomponent</a></li>
<li><a href="component.system.html">component.system</a></li>
<li><a href="component.timeoutsystem.html">component.timeoutsystem</a></li>
<li><a href="component.visualcomponent.html">component.visualcomponent</a></li>
<li><a href="component.visualsystem.html">component.visualsystem</a></li>
<li><a href="component.volumecomponent.html">component.volumecomponent</a></li>
<li><a href="component.warheadcomponent.html">component.warheadcomponent</a></li>
<li><a href="component.warheadsystem.html">component.warheadsystem</a></li>
<li><a href="component.weaponcomponent.html">component.weaponcomponent</a></li>
<li><a href="component.weaponsystem.html">component.weaponsystem</a></li>
<li><a href="containers.array2d.html">containers.array2d</a></li>
<li><a href="containers.fixedarray.html">containers.fixedarray</a></li>
<li><a href="containers.lazyarray.html">containers.lazyarray</a></li>
<li><a href="containers.segmentedvector.html">containers.segmentedvector</a></li>
<li><a href="containers.vector.html">containers.vector</a></li>
<li><a href="formats.cli.html">formats.cli</a></li>
<li><a href="formats.image.html">formats.image</a></li>
<li><a href="formats.mathparser.html">formats.mathparser</a></li>
<li><a href="formats.png.html">formats.png</a></li>
<li><a href="formats.pngcommon.html">formats.pngcommon</a></li>
<li><a href="formats.pngdecoder.html">formats.pngdecoder</a></li>
<li><a href="formats.pngencoder.html">formats.pngencoder</a></li>
<li><a href="formats.zlib.html">formats.zlib</a></li>
<li><a href="graphdata.html">graphdata</a></li>
<li><a href="gui.guibutton.html">gui.guibutton</a></li>
<li><a href="gui.guielement.html">gui.guielement</a></li>
<li><a href="gui.guilinegraph.html">gui.guilinegraph</a></li>
<li><a href="gui.guimenu.html">gui.guimenu</a></li>
<li><a href="gui.guimousecontrollable.html">gui.guimousecontrollable</a></li>
<li><a href="gui.guistatictext.html">gui.guistatictext</a></li>
<li><a href="ice.html">ice</a></li>
<li><a href="ice.credits.html">ice.credits</a></li>
<li><a href="ice.exceptions.html">ice.exceptions</a></li>
<li><a href="ice.game.html">ice.game</a></li>
<li><a href="ice.graphicseffect.html">ice.graphicseffect</a></li>
<li><a href="ice.hud.html">ice.hud</a></li>
<li><a href="ice.ice.html">ice.ice</a></li>
<li><a href="ice.level.html">ice.level</a></li>
<li><a href="ice.player.html">ice.player</a></li>
<li><a href="image.html">image</a></li>
<li><a href="math.math.html">math.math</a></li>
<li><a href="math.matrix4.html">math.matrix4</a></li>
<li><a href="math.rect.html">math.rect</a></li>
<li><a href="math.vector2.html">math.vector2</a></li>
<li><a href="memory.memory.html">memory.memory</a></li>
<li><a href="memory.memorymonitorable.html">memory.memorymonitorable</a></li>
<li><a href="memprof.memprof.html">memprof.memprof</a></li>
<li><a href="monitor.graphmonitor.html">monitor.graphmonitor</a></li>
<li><a href="monitor.monitorable.html">monitor.monitorable</a></li>
<li><a href="monitor.monitordata.html">monitor.monitordata</a></li>
<li><a href="monitor.monitormanager.html">monitor.monitormanager</a></li>
<li><a href="monitor.submonitor.html">monitor.submonitor</a></li>
<li><a href="platform.key.html">platform.key</a></li>
<li><a href="platform.platform.html">platform.platform</a></li>
<li><a href="platform.sdlplatform.html">platform.sdlplatform</a></li>
<li><a href="time.eventcounter.html">time.eventcounter</a></li>
<li><a href="time.gametime.html">time.gametime</a></li>
<li><a href="time.time.html">time.time</a></li>
<li><a href="time.timer.html">time.timer</a></li>
<li><a href="util.bits.html">util.bits</a></li>
<li><a href="util.factory.html">util.factory</a></li>
<li><a href="util.frameprofiler.html">util.frameprofiler</a></li>
<li><a href="util.intervals.html">util.intervals</a></li>
<li><a href="util.iterable.html">util.iterable</a></li>
<li><a href="util.signal.html">util.signal</a></li>
<li><a href="util.stringctfe.html">util.stringctfe</a></li>
<li><a href="util.traits.html">util.traits</a></li>
<li><a href="util.typeinfo.html">util.typeinfo</a></li>
<li><a href="util.unittests.html">util.unittests</a></li>
<li><a href="util.weaksingleton.html">util.weaksingleton</a></li>
<li><a href="util.yaml.html">util.yaml</a></li>
<li><a href="video.binarytexturepacker.html">video.binarytexturepacker</a></li>
<li><a href="video.font.html">video.font</a></li>
<li><a href="video.fontmanager.html">video.fontmanager</a></li>
<li><a href="video.gldrawmode.html">video.gldrawmode</a></li>
<li><a href="video.glmonitor.html">video.glmonitor</a></li>
<li><a href="video.glrenderer.html">video.glrenderer</a></li>
<li><a href="video.glshader.html">video.glshader</a></li>
<li><a href="video.gltexture.html">video.gltexture</a></li>
<li><a href="video.gltexturebackend.html">video.gltexturebackend</a></li>
<li><a href="video.glvertex.html">video.glvertex</a></li>
<li><a href="video.glvertexbuffer.html">video.glvertexbuffer</a></li>
<li><a href="video.glvideodriver.html">video.glvideodriver</a></li>
<li><a href="video.sdlglvideodriver.html">video.sdlglvideodriver</a></li>
<li><a href="video.shader.html">video.shader</a></li>
<li><a href="video.texture.html">video.texture</a></li>
<li><a href="video.texturepage.html">video.texturepage</a></li>
<li><a href="video.videodriver.html">video.videodriver</a></li>
<li><a href="video.videodrivercontainer.html">video.videodrivercontainer</a></li>
</ul>
</div>
</div>

<div id="content">
<h1>memory.memory</h1>
<!-- Generated by Ddoc from memory/memory.d -->
<p>Manual <a name="memory"></a><span class="ddoc_psymbol">memory</span> management functions.</p>

<dl><dt class="d_decl">T* <a name="alloc"></a><span class="ddoc_psymbol">alloc</span>(T, string file = __FILE__, uint line = __LINE__, Args...)(Args <b>args</b>);
</dt>
<dd><p>Allocate space for and optionally initialize a primitive value or struct.
</p>
<p>For now, if allocating a struct, that struct must not have its empty
 constructor disabled.

</p>
<p><b>Note:</b><br>
Some types, such as unions, can't be initialized since their default
 initializer (T.init) is ambiguous. Data of such types can still be
 initialized to zero bytes by adding an "annotation" static variable to
 the type, like in this example:

</p>
<p><b>Example:</b><br>
<pre class="d_code"> <span class="d_keyword">struct</span> ZeroInitialized
 {
     <span class="d_keyword">static</span> <span class="d_keyword">bool</span> CAN_INITIALIZE_WITH_ZEROES;
     <span class="d_keyword">union</span>
     {
         <span class="d_keyword">int</span> i;
         <span class="d_keyword">float</span> f;
     }
 }
</pre>

</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>args</td>
<td valign=top>Arguments to value's initializer/constructor.
                 If no arguments are specified, the value is default-initialized.</td></tr>
</table></div>
<b>Returns:</b><div class="pbr">Pointer to allocated struct.</div>

</dd>
<dt class="d_decl">void <a name="free"></a><span class="ddoc_psymbol">free</span>(T)(T* <b>ptr</b>);
</dt>
<dd><p>Free an object (struct) allocated by alloc(). Will clear the object.</p>

</dd>
<dt class="d_decl">void <a name="unittestSingle"></a><span class="ddoc_psymbol">unittestSingle</span>();
</dt>
<dd><p>Unittest for alloc() and free calling dtor.</p>

</dd>
<dt class="d_decl">T[] <a name="allocArray"></a><span class="ddoc_psymbol">allocArray</span>(T, string file = __FILE__, uint line = __LINE__)(const size_t <b>elems</b>);
</dt>
<dd><p>Allocate an array of specified type.
</p>
<p>Arrays allocated with alloc must NOT be resized.

</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>elems</td>
<td valign=top>Number of objects to allocate space for.</td></tr>
</table></div>
<b>Returns:</b><div class="pbr">Allocated array. Values in the array are default-initialized.</div>

</dd>
<dt class="d_decl">T[] <a name="realloc"></a><span class="ddoc_psymbol">realloc</span>(T, string file = __FILE__, uint line = __LINE__)(T[] <b>array</b>, const size_t <b>elems</b>);
</dt>
<dd><p>Reallocate an array allocated by alloc() .
</p>
<p>Contents of the array are preserved but array itself might be moved in memory,
 invalidating any pointers pointing to it.
<br>

 If the array is shrunk and of non-reference type (e.g. not a class),
 any extra elements are cleared (if they have destructors, they're called).

</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>array</td>
<td valign=top>Array to reallocate.</td></tr>
<tr><td valign=top>elems</td>
<td valign=top>Number of objects for the reallocated array to hold.</td></tr>
</table></div>
<b>Returns:</b><div class="pbr">Reallocated array.</div>

</dd>
<dt class="d_decl">void <a name="free"></a><span class="ddoc_psymbol">free</span>(T)(T[] <b>array</b>);
</dt>
<dd><p>Free an array of objects allocated by alloc().
</p>
<p>If the array is of non-reference type (e.g. not a class), array elements
 are cleared (if they have destructors, they're called).

</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>array</td>
<td valign=top>Array to <a name="free"></a><span class="ddoc_psymbol">free</span>.</td></tr>
</table></div>

</dd>
<dt class="d_decl">void <a name="unittestArray"></a><span class="ddoc_psymbol">unittestArray</span>();
</dt>
<dd><p>Unittest for allocArray(), realloc() and free().</p>

</dd>
<dt class="d_decl">VFSDir <a name="gameDir"></a><span class="ddoc_psymbol">gameDir</span>;
</dt>
<dd><p>VFSDir to output memory log to.</p>

</dd>
<dt class="d_decl">bool <a name="suspendMemoryDebugRecording"></a><span class="ddoc_psymbol">suspendMemoryDebugRecording</span>;
</dt>
<dd><p>Debug info is only recorded after main() is entered.
</p>
<p>There seems to be a bug with dynamic array appending
before main() (e.g. in unittests).
 
TODO revisit this when a new DMD (currently 2.060) is released</p>

</dd>
<dt class="d_decl">package ulong <a name="currentlyAllocated"></a><span class="ddoc_psymbol">currentlyAllocated</span>();
</dt>
<dd><p>Get currently allocated memory in bytes.</p>

</dd>
<dt class="d_decl">T* <a name="allocateSingle"></a><span class="ddoc_psymbol">allocateSingle</span>(T, string file, uint line, Args...)(Args <b>args</b>);
</dt>
<dd><p>Allocate and initialize a primitive value or struct.
</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>args</td>
<td valign=top>Parameters for the values' constructor/initializer.
                 If not specified, the value is default-initialized.</td></tr>
</table></div>
<b>Returns:</b><div class="pbr">Pointer to the allocated struct.</div>

</dd>
<dt class="d_decl">T[] <a name="allocate"></a><span class="ddoc_psymbol">allocate</span>(T, string file, uint line)(const size_t <b>elems</b>);
</dt>
<dd><p>Allocate and default-initialize an array with given number of elements.
</p>
<p>Arrays returned by <a name="allocate"></a><span class="ddoc_psymbol">allocate</span>() must NOT be resized.

</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>elems</td>
<td valign=top>Number of objects for the array to hold.</td></tr>
</table></div>
<b>Returns:</b><div class="pbr">Allocated array.</div>

</dd>
<dt class="d_decl">T[] <a name="reallocate"></a><span class="ddoc_psymbol">reallocate</span>(T, string file, uint line)(T[] <b>array</b>, const size_t <b>elems</b>);
</dt>
<dd><p>Reallocate an array allocated with allocate().
</p>
<p>Array data might move around the memory, invalidating any pointers to it.
 Any added elements are default-initialized. Any removed elements are cleared.

</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>array</td>
<td valign=top>Array to <a name="reallocate"></a><span class="ddoc_psymbol">reallocate</span>.</td></tr>
<tr><td valign=top>elems</td>
<td valign=top>Number of elements for the reallocated array to hold.</td></tr>
</table></div>
<b>Returns:</b><div class="pbr">Reallocated array.</div>

</dd>
<dt class="d_decl">void <a name="deallocate"></a><span class="ddoc_psymbol">deallocate</span>(T)(ref T* <b>ptr</b>);
</dt>
<dd><p>Free an object allocated by allocate(). If a destructor is defined, it will be called.</p>

</dd>
<dt class="d_decl">void <a name="deallocate"></a><span class="ddoc_psymbol">deallocate</span>(T)(ref T[] <b>array</b>);
</dt>
<dd><p>Free an array allocated by allocate().
</p>
<p>If a destructor is defined for the array's type and the array doesn't hold
 pointers or reference types, the destructor will be called for every object in the array.

</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>array</td>
<td valign=top>Array to <a name="deallocate"></a><span class="ddoc_psymbol">deallocate</span>.</td></tr>
</table></div>

</dd>
<dt class="d_decl">void <a name="debugAllocate"></a><span class="ddoc_psymbol">debugAllocate</span>(T, string file, uint line)(const T* <b>ptr</b>, const size_t <b>objects</b>);
</dt>
<dd><p>Record data about an allocation.
</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>ptr</td>
<td valign=top>Pointer to the allocated memory.</td></tr>
<tr><td valign=top>objects</td>
<td valign=top>Number of objects allocated.</td></tr>
</table></div>

</dd>
<dt class="d_decl">void <a name="debugReallocate"></a><span class="ddoc_psymbol">debugReallocate</span>(T, string file, uint line)(const T* <b>newPtr</b>, const size_t <b>newObjects</b>, const T* <b>oldPtr</b>, const size_t <b>oldObjects</b>);
</dt>
<dd><p>Record data about a reallocation.
</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>newPtr</td>
<td valign=top>Pointer to the reallocated memory.</td></tr>
<tr><td valign=top>newObjects</td>
<td valign=top>Number of objects in reallocated memory.</td></tr>
<tr><td valign=top>oldPtr</td>
<td valign=top>Pointer to original memory.</td></tr>
<tr><td valign=top>oldObjects</td>
<td valign=top>Number of objects in original memory.</td></tr>
</table></div>

</dd>
<dt class="d_decl">void <a name="debugFree"></a><span class="ddoc_psymbol">debugFree</span>(T)(const T* <b>ptr</b>, const size_t <b>objects</b>);
</dt>
<dd><p>Record data about a deallocation.
</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>ptr</td>
<td valign=top>Pointer to deallocated memory.</td></tr>
<tr><td valign=top>objects</td>
<td valign=top>Number of objects deallocated.</td></tr>
</table></div>

</dd>
</dl>

</div>

<div id="copyright">
Copyright &copy; Ferdinand Majerech 2011. |
Page generated by AutoDDoc and <a href="http://www.digitalmars.com/d/2.0/ddoc.html">Ddoc</a>.
</div>

</body>
</html>
