<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">

<html lang='en'>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" >
<title>physics.physicsbody - ICE 0.1 API documentation</title>
<link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body><div id="top">
<div id="header">
<a id="main-heading" href="index.html">ICE 0.1 API documentation</a>
</div>
</div>

<div id="navigation">
<div class="navblock">
<div id="toctop">
<ul><li><a href="../index.html">Documentation home</a></li>
</ul>
</div>
</div>
<div class="navblock">
<ul><li><a href="index.html">Main page</a></li>
<li><a href="color.html">color</a></li>
<li><a href="component.collidablecomponent.html">component.collidablecomponent</a></li>
<li><a href="component.collisionresponsesystem.html">component.collisionresponsesystem</a></li>
<li><a href="component.collisionsystem.html">component.collisionsystem</a></li>
<li><a href="component.controllercomponent.html">component.controllercomponent</a></li>
<li><a href="component.controllersystem.html">component.controllersystem</a></li>
<li><a href="component.deathtimeoutcomponent.html">component.deathtimeoutcomponent</a></li>
<li><a href="component.dumbscriptcomponent.html">component.dumbscriptcomponent</a></li>
<li><a href="component.enginecomponent.html">component.enginecomponent</a></li>
<li><a href="component.enginesystem.html">component.enginesystem</a></li>
<li><a href="component.entitysystem.html">component.entitysystem</a></li>
<li><a href="component.exceptions.html">component.exceptions</a></li>
<li><a href="component.healthcomponent.html">component.healthcomponent</a></li>
<li><a href="component.healthsystem.html">component.healthsystem</a></li>
<li><a href="component.ownercomponent.html">component.ownercomponent</a></li>
<li><a href="component.physicscomponent.html">component.physicscomponent</a></li>
<li><a href="component.physicssystem.html">component.physicssystem</a></li>
<li><a href="component.playercomponent.html">component.playercomponent</a></li>
<li><a href="component.spatialsystem.html">component.spatialsystem</a></li>
<li><a href="component.system.html">component.system</a></li>
<li><a href="component.timeoutsystem.html">component.timeoutsystem</a></li>
<li><a href="component.visualcomponent.html">component.visualcomponent</a></li>
<li><a href="component.visualsystem.html">component.visualsystem</a></li>
<li><a href="component.volumecomponent.html">component.volumecomponent</a></li>
<li><a href="component.warheadcomponent.html">component.warheadcomponent</a></li>
<li><a href="component.warheadsystem.html">component.warheadsystem</a></li>
<li><a href="component.weaponcomponent.html">component.weaponcomponent</a></li>
<li><a href="component.weaponsystem.html">component.weaponsystem</a></li>
<li><a href="containers.array2d.html">containers.array2d</a></li>
<li><a href="containers.fixedarray.html">containers.fixedarray</a></li>
<li><a href="containers.lazyarray.html">containers.lazyarray</a></li>
<li><a href="containers.segmentedvector.html">containers.segmentedvector</a></li>
<li><a href="containers.vector.html">containers.vector</a></li>
<li><a href="formats.cli.html">formats.cli</a></li>
<li><a href="formats.image.html">formats.image</a></li>
<li><a href="formats.mathparser.html">formats.mathparser</a></li>
<li><a href="formats.png.html">formats.png</a></li>
<li><a href="formats.pngcommon.html">formats.pngcommon</a></li>
<li><a href="formats.pngdecoder.html">formats.pngdecoder</a></li>
<li><a href="formats.pngencoder.html">formats.pngencoder</a></li>
<li><a href="formats.zlib.html">formats.zlib</a></li>
<li><a href="graphdata.html">graphdata</a></li>
<li><a href="gui.guibutton.html">gui.guibutton</a></li>
<li><a href="gui.guielement.html">gui.guielement</a></li>
<li><a href="gui.guilinegraph.html">gui.guilinegraph</a></li>
<li><a href="gui.guimenu.html">gui.guimenu</a></li>
<li><a href="gui.guimousecontrollable.html">gui.guimousecontrollable</a></li>
<li><a href="gui.guistatictext.html">gui.guistatictext</a></li>
<li><a href="ice.html">ice</a></li>
<li><a href="ice.credits.html">ice.credits</a></li>
<li><a href="ice.exceptions.html">ice.exceptions</a></li>
<li><a href="ice.game.html">ice.game</a></li>
<li><a href="ice.hud.html">ice.hud</a></li>
<li><a href="ice.ice.html">ice.ice</a></li>
<li><a href="ice.level.html">ice.level</a></li>
<li><a href="ice.player.html">ice.player</a></li>
<li><a href="image.html">image</a></li>
<li><a href="math.math.html">math.math</a></li>
<li><a href="math.matrix4.html">math.matrix4</a></li>
<li><a href="math.rect.html">math.rect</a></li>
<li><a href="math.vector2.html">math.vector2</a></li>
<li><a href="memory.memory.html">memory.memory</a></li>
<li><a href="memory.memorymonitorable.html">memory.memorymonitorable</a></li>
<li><a href="memory.pool.html">memory.pool</a></li>
<li><a href="monitor.graphmonitor.html">monitor.graphmonitor</a></li>
<li><a href="monitor.monitorable.html">monitor.monitorable</a></li>
<li><a href="monitor.monitordata.html">monitor.monitordata</a></li>
<li><a href="monitor.monitormanager.html">monitor.monitormanager</a></li>
<li><a href="monitor.submonitor.html">monitor.submonitor</a></li>
<li><a href="physics.contact.html">physics.contact</a></li>
<li><a href="physics.contactdetect.html">physics.contactdetect</a></li>
<li><a href="physics.physicsbody.html">physics.physicsbody</a></li>
<li><a href="physics.physicsengine.html">physics.physicsengine</a></li>
<li><a href="physics.physicsmonitor.html">physics.physicsmonitor</a></li>
<li><a href="platform.key.html">platform.key</a></li>
<li><a href="platform.platform.html">platform.platform</a></li>
<li><a href="platform.sdlplatform.html">platform.sdlplatform</a></li>
<li><a href="scene.actor.html">scene.actor</a></li>
<li><a href="scene.scenemanager.html">scene.scenemanager</a></li>
<li><a href="spatial.gridmonitor.html">spatial.gridmonitor</a></li>
<li><a href="spatial.gridspatialmanager.html">spatial.gridspatialmanager</a></li>
<li><a href="spatial.spatialmanager.html">spatial.spatialmanager</a></li>
<li><a href="spatial.volume.html">spatial.volume</a></li>
<li><a href="spatial.volumeaabbox.html">spatial.volumeaabbox</a></li>
<li><a href="spatial.volumecircle.html">spatial.volumecircle</a></li>
<li><a href="time.eventcounter.html">time.eventcounter</a></li>
<li><a href="time.gametime.html">time.gametime</a></li>
<li><a href="time.time.html">time.time</a></li>
<li><a href="time.timer.html">time.timer</a></li>
<li><a href="util.bits.html">util.bits</a></li>
<li><a href="util.factory.html">util.factory</a></li>
<li><a href="util.iterable.html">util.iterable</a></li>
<li><a href="util.signal.html">util.signal</a></li>
<li><a href="util.stringctfe.html">util.stringctfe</a></li>
<li><a href="util.traits.html">util.traits</a></li>
<li><a href="util.typeinfo.html">util.typeinfo</a></li>
<li><a href="util.weaksingleton.html">util.weaksingleton</a></li>
<li><a href="util.yaml.html">util.yaml</a></li>
<li><a href="video.binarytexturepacker.html">video.binarytexturepacker</a></li>
<li><a href="video.font.html">video.font</a></li>
<li><a href="video.fontmanager.html">video.fontmanager</a></li>
<li><a href="video.gldrawmode.html">video.gldrawmode</a></li>
<li><a href="video.glmonitor.html">video.glmonitor</a></li>
<li><a href="video.glrenderer.html">video.glrenderer</a></li>
<li><a href="video.glshader.html">video.glshader</a></li>
<li><a href="video.gltexture.html">video.gltexture</a></li>
<li><a href="video.gltexturebackend.html">video.gltexturebackend</a></li>
<li><a href="video.glvertex.html">video.glvertex</a></li>
<li><a href="video.glvertexbuffer.html">video.glvertexbuffer</a></li>
<li><a href="video.glvideodriver.html">video.glvideodriver</a></li>
<li><a href="video.sdlglvideodriver.html">video.sdlglvideodriver</a></li>
<li><a href="video.shader.html">video.shader</a></li>
<li><a href="video.texture.html">video.texture</a></li>
<li><a href="video.texturepage.html">video.texturepage</a></li>
<li><a href="video.videodriver.html">video.videodriver</a></li>
<li><a href="video.videodrivercontainer.html">video.videodrivercontainer</a></li>
</ul>
</div>
</div>

<div id="content">
<h1>physics.physicsbody</h1>
<!-- Generated by Ddoc from physics/physicsbody.d -->
<p>Base class for physics bodies.</p>

<dl><dt class="d_decl">class <a name="PhysicsBody"></a><span class="ddoc_psymbol">PhysicsBody</span>;
</dt>
<dd><p>Body in physics simulation. Currently a (very) simple rigid body.</p>

<dl><dt class="d_decl">protected const Volume <a name="volume_"></a><span class="ddoc_psymbol">volume_</span>;
</dt>
<dd><p>Collision volume of this body. If <b>null</b>, this body can't collide.</p>

</dd>
<dt class="d_decl">protected Vector2f <a name="positionOld_"></a><span class="ddoc_psymbol">positionOld_</span>;
</dt>
<dd><p>Position during previous update in world space, used for spatial management.</p>

</dd>
<dt class="d_decl">protected Vector2f <a name="position_"></a><span class="ddoc_psymbol">position_</span>;
</dt>
<dd><p>Position in world space.</p>

</dd>
<dt class="d_decl">protected Vector2f <a name="velocity_"></a><span class="ddoc_psymbol">velocity_</span>;
</dt>
<dd><p>Velocity in world space.</p>

</dd>
<dt class="d_decl">protected real <a name="inverseMass_"></a><span class="ddoc_psymbol">inverseMass_</span>;
</dt>
<dd><p>Inverse mass of this body. (0 means infinite mass)</p>

</dd>
<dt class="d_decl">protected PhysicsBody[] <a name="colliders_"></a><span class="ddoc_psymbol">colliders_</span>;
</dt>
<dd><p>Bodies we've collided with this frame.</p>

</dd>
<dt class="d_decl">protected size_t <a name="deadAtUpdate_"></a><span class="ddoc_psymbol">deadAtUpdate_</span>;
</dt>
<dd><p>Index of update when the body is dead (to be removed).</p>

</dd>
<dt class="d_decl">this(const(Volume) <b>volume</b>, const(Vector2!(float)) <b>position</b>, const(Vector2!(float)) <b>velocity</b>, const(real) <b>mass</b>);
</dt>
<dd><p>Construct a PhysicsBody with specified parameters.
</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>const(Volume) <b>volume</b></td>
<td valign=top>Collision <b>volume</b> to use for collision detection.
                       If <b>null</b>, this body cannot collide with anything.</td></tr>
<tr><td valign=top>const(Vector2!(float)) <b>position</b></td>
<td valign=top>Position in world space.</td></tr>
<tr><td valign=top>const(Vector2!(float)) <b>velocity</b></td>
<td valign=top>Velocity in world space.</td></tr>
<tr><td valign=top>const(real) <b>mass</b></td>
<td valign=top>Mass of the body. Can be infinite (immovable object).
                       Can't be zero or negative.</td></tr>
</table></div>

</dd>
<dt class="d_decl">final pure void <a name="die"></a><span class="ddoc_psymbol">die</span>(const size_t <b>updateIndex</b>);
</dt>
<dd><p>Destroy the body at the end of specified update.
</p>
<p>This can be used to destroy the body at the current update by passing
 current <b>updateIndex</b> from the SceneManager.
<br>

 Note that the body will not be destroyed immediately -
 At the end of update, all dead bodies' onDie() methods are called
 first, and then the bodies are destroyed.

</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>size_t <b>updateIndex</b></td>
<td valign=top>Update to destroy the body at.</td></tr>
</table></div>

</dd>
<dt class="d_decl">final const pure @property Vector2f <a name="position"></a><span class="ddoc_psymbol">position</span>();
</dt>
<dd><p>Get <a name="position"></a><span class="ddoc_psymbol">position</span> of the body, in world space.</p>

</dd>
<dt class="d_decl">final pure @property void <a name="position"></a><span class="ddoc_psymbol">position</span>(const Vector2f <b>p</b>);
</dt>
<dd><p>Set <a name="position"></a><span class="ddoc_psymbol">position</span> of the body, in world space.</p>

</dd>
<dt class="d_decl">final const pure @property Vector2f <a name="velocity"></a><span class="ddoc_psymbol">velocity</span>();
</dt>
<dd><p>Get <a name="velocity"></a><span class="ddoc_psymbol">velocity</span> of the body, in world space.</p>

</dd>
<dt class="d_decl">final pure @property void <a name="velocity"></a><span class="ddoc_psymbol">velocity</span>(const Vector2f <b>v</b>);
</dt>
<dd><p>Set <a name="velocity"></a><span class="ddoc_psymbol">velocity</span> of the body, in world space.</p>

</dd>
<dt class="d_decl">final pure @property void <a name="mass"></a><span class="ddoc_psymbol">mass</span>(const real <a name="mass"></a><span class="ddoc_psymbol">mass</span>);
</dt>
<dd><p>Set <a name="mass"></a><span class="ddoc_psymbol">mass</span> of the body. Mass must be positive and can be infinite.</p>

</dd>
<dt class="d_decl">final const pure @property real <a name="inverseMass"></a><span class="ddoc_psymbol">inverseMass</span>();
</dt>
<dd><p>Get inverse mass of the body.</p>

</dd>
<dt class="d_decl">final const pure @property const(Volume) <a name="volume"></a><span class="ddoc_psymbol">volume</span>();
</dt>
<dd><p>Get a reference to collision <a name="volume"></a><span class="ddoc_psymbol">volume</span> of this body.</p>

</dd>
<dt class="d_decl">pure @property PhysicsBody[] <a name="colliders"></a><span class="ddoc_psymbol">colliders</span>();
</dt>
<dd><p>Return an array of bodies this body has collided with during last update.</p>

</dd>
<dt class="d_decl">const pure @property bool <a name="collided"></a><span class="ddoc_psymbol">collided</span>();
</dt>
<dd><p>Has the body <a name="collided"></a><span class="ddoc_psymbol">collided</span> with anything during the last update?</p>

</dd>
<dt class="d_decl">protected void <a name="update"></a><span class="ddoc_psymbol">update</span>(const real <b>timeStep</b>, SpatialManager!(PhysicsBody) <b>spatial</b>);
</dt>
<dd><p>Update physics state of the body.
</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>real <b>timeStep</b></td>
<td valign=top>Time length of the <a name="update"></a><span class="ddoc_psymbol">update</span> in seconds.</td></tr>
<tr><td valign=top>SpatialManager!(PhysicsBody) <b>spatial</b></td>
<td valign=top>Spatial manager managing the body.</td></tr>
</table></div>

</dd>
<dt class="d_decl">protected void <a name="collisionResponse"></a><span class="ddoc_psymbol">collisionResponse</span>(ref Contact <b>contact</b>);
</dt>
<dd><p>Resolve collision response to a <b>contact</b>.
</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>Contact <b>contact</b></td>
<td valign=top>Contact to respond to. Must involve this body.</td></tr>
</table></div>

</dd>
<dt class="d_decl">protected void <a name="onDie"></a><span class="ddoc_psymbol">onDie</span>();
</dt>
<dd><p>Called at the end of the update after the bodies' die() method is called.
</p>
<p>This is used to handle any game logic that needs to happen when a
 body dies.</p>

</dd>
<dt class="d_decl">package final const pure @property bool <a name="dead"></a><span class="ddoc_psymbol">dead</span>(const size_t <b>updateIndex</b>);
</dt>
<dd><p>Is the actor <a name="dead"></a><span class="ddoc_psymbol">dead</span> at specified update?</p>

</dd>
<dt class="d_decl">package final void <a name="updatePackage"></a><span class="ddoc_psymbol">updatePackage</span>(const real <b>timeStep</b>, SpatialManager!(PhysicsBody) <b>spatial</b>);
</dt>
<dd><p>Used by PhysicsEngine to update the body.
</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>real <b>timeStep</b></td>
<td valign=top>Time length of the update in seconds.</td></tr>
<tr><td valign=top>SpatialManager!(PhysicsBody) <b>spatial</b></td>
<td valign=top>Spatial manager managing the body.</td></tr>
</table></div>

</dd>
<dt class="d_decl">package final void <a name="onDiePackage"></a><span class="ddoc_psymbol">onDiePackage</span>();
</dt>
<dd><p>Used by PhysicsEngine to call onDie() of the body.</p>

</dd>
<dt class="d_decl">package final void <a name="collisionResponseContract"></a><span class="ddoc_psymbol">collisionResponseContract</span>(ref Contact <b>contact</b>);
</dt>
<dd><p>Enforces contract on all (even inherited) implementations of collisionResponse
 and registers bodies this body has collided with.</p>

</dd>
<dt class="d_decl">package void <a name="addToSpatial"></a><span class="ddoc_psymbol">addToSpatial</span>(SpatialManager!(PhysicsBody) <b>spatial</b>);
</dt>
<dd><p>Add the body to a <b>spatial</b> manager (and save old position).
</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>SpatialManager!(PhysicsBody) <b>spatial</b></td>
<td valign=top>Spatial manager to add to.</td></tr>
</table></div>

</dd>
<dt class="d_decl">package void <a name="removeFromSpatial"></a><span class="ddoc_psymbol">removeFromSpatial</span>(SpatialManager!(PhysicsBody) <b>spatial</b>);
</dt>
<dd><p>Remove the body from a <b>spatial</b> manager.
</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>SpatialManager!(PhysicsBody) <b>spatial</b></td>
<td valign=top>Spatial manager to remove from.</td></tr>
</table></div>

</dd>
</dl>
</dd>
</dl>

</div>

<div id="copyright">
Copyright &copy; Ferdinand Majerech 2011. |
Page generated by AutoDDoc and <a href="http://www.digitalmars.com/d/2.0/ddoc.html">Ddoc</a>.
</div>

</body>
</html>
